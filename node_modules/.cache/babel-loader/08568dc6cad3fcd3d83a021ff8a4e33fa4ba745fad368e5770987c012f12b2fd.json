{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport rules from \"../constants/validation-rules.js\";\nimport { useRoute } from \"vue-router\";\nimport { useRouter } from \"vue-router\";\nimport useToast from '@/plugins/useToast.js';\nimport axios from \"axios\";\nexport default {\n  setup() {\n    const loader = ref(false);\n    const myForm = ref('');\n    const route = useRoute();\n    const router = useRouter();\n    const inputList = ref([{\n      name: \"firstName\",\n      label: \"First Name\",\n      placeholder: \"Enter your first name here\",\n      type: \"text\",\n      class: \"\",\n      cols: 12,\n      col_md: 12,\n      model: \"\",\n      rules: [rules.firstNameRequired, rules.name_max_length]\n    }, {\n      name: \"lastName\",\n      label: \"Last Name\",\n      placeholder: \"Enter your last name here\",\n      type: \"text\",\n      class: \"\",\n      cols: 12,\n      col_md: 12,\n      model: \"\",\n      rules: [rules.lastNameRequired, rules.name_max_length]\n    }, {\n      name: \"email\",\n      label: \"Email\",\n      placeholder: \"Enter your email here\",\n      type: \"email\",\n      class: \"\",\n      cols: 12,\n      col_md: 12,\n      model: \"\",\n      rules: [rules.emailRequired, rules.email]\n    }, {\n      name: \"password\",\n      label: \"Password\",\n      placeholder: \"Enter your password here\",\n      type: \"password\",\n      class: \"mt-3\",\n      cols: 12,\n      col_md: 12,\n      visible: false,\n      model: \"\",\n      rules: [rules.passwordRequired, rules.password_length, rules.password_max_length]\n    }, {\n      name: \"confirmPassword\",\n      label: \"Confirm Password\",\n      placeholder: \"Enter confirm password here\",\n      type: \"password\",\n      class: \"mt-3\",\n      cols: 12,\n      col_md: 12,\n      visible: false,\n      model: \"\",\n      rules: [rules.passwordRequired, rules.password_length, rules.password_max_length]\n    }]);\n    const signupRequest = () => {\n      // check validations\n      if (!inputList.value[0].model) {\n        useToast(\"First name is required\", \"error\");\n        return;\n      }\n      if (!inputList.value[1].model) {\n        useToast(\"Last name is required\", \"error\");\n        return;\n      }\n      if (!inputList.value[2].model) {\n        useToast(\"Email is required\", \"error\");\n        return;\n      }\n      if (!inputList.value[3].model) {\n        useToast(\"Password is required\", \"error\");\n        return;\n      }\n      if (inputList.value[3].model !== inputList.value[4].model) {\n        useToast(\"Password did not match\", \"error\");\n        return;\n      }\n\n      // button loader is ON\n      loader.value = true;\n      const payload = {\n        name: inputList.value[0].model + \" \" + inputList.value[1].model,\n        email: inputList.value[2].model,\n        password: inputList.value[3].model\n      };\n      console.log('ready signup payload ==============', payload);\n      const appBaseURL = process.env.VUE_APP_URL;\n      let config = {\n        method: 'post',\n        maxBodyLength: Infinity,\n        url: `${appBaseURL}create_account`,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: payload\n      };\n      axios.request(config).then(res => {\n        if (res.data.message == 'Account created successfully') {\n          // show success message in snackbar\n          useToast(res.data.message, \"success\");\n          // route to login page\n          router.push({\n            path: \"/login\"\n          });\n        } else {\n          console.log(res);\n          useToast(res.data.message, \"error\");\n        }\n      }).catch(error => {\n        // show error message\n        useToast(error.messae, \"error\");\n      }).finally(() => {\n        loader.value = false;\n      });\n    };\n    return {\n      loader,\n      myForm,\n      route,\n      router,\n      inputList,\n      signupRequest\n    };\n  },\n  methods: {}\n};","map":{"version":3,"names":["ref","rules","useRoute","useRouter","useToast","axios","setup","loader","myForm","route","router","inputList","name","label","placeholder","type","class","cols","col_md","model","firstNameRequired","name_max_length","lastNameRequired","emailRequired","email","visible","passwordRequired","password_length","password_max_length","signupRequest","value","payload","password","console","log","appBaseURL","process","env","VUE_APP_URL","config","method","maxBodyLength","Infinity","url","headers","data","request","then","res","message","push","path","catch","error","messae","finally","methods"],"sources":["/Users/dannyganza/Desktop/InnoTech/final/Danny-Password/danny-passwords/src/components/signup-comp.vue"],"sourcesContent":["<template>\n    <div class=\"main-bg d-flex custom-flex align-center\">\n      <div\n        v-if=\"!$vuetify.display.lg\"\n        class=\"text-white custom-main-heading\"\n        :class=\"!$vuetify.display.lg ? 'mt-10' : ''\"\n      >\n        <h1\n          class=\"font-avenir\"\n          :class=\"$vuetify.display.sm || $vuetify.display.md ? 'txt36' : 'txt32'\"\n        >\n          Password\n          <span\n            class=\"text-deep-orange font-avenir\"\n            :class=\"\n              $vuetify.display.sm || $vuetify.display.md ? 'txt36' : 'txt32'\n            \"\n          >\n            Manager\n          </span>\n        </h1>\n      </div>\n      <div>\n      <v-sheet\n        :width=\"$vuetify.display.lg ? '450' : '420'\"\n        class=\"custom-spacing custom-radius px-15 py-12\"\n        :class=\"!$vuetify.display.lg ? 'mt-10' : ''\"\n      >\n        <h2>Create Account</h2>\n        <div class=\"mt-2 mb-4 txt14\">Register with a new account</div>\n        <v-form ref=\"myForm\" fast-fail @submit.prevent>\n          <div v-for=\"(item, index) in inputList\" :key=\"index\">\n            <div v-if=\"index <= 2\">\n              <v-text-field\n                v-model=\"item.model\"\n                :label=\"item.label\"\n                :placeholder=\"item.placeholder\"\n                :rules=\"item.rules\"\n                :type=\"item.type\"\n                variant=\"solo\"\n              >\n              </v-text-field>\n            </div>\n          </div>\n          <div v-for=\"(item, index) in inputList\" :key=\"index\">\n            <div v-if=\"index > 2\">\n              <v-text-field\n                v-model=\"item.model\"\n                :label=\"item.label\"\n                :placeholder=\"item.placeholder\"\n                :rules=\"item.rules\"\n                :type=\"item.visible ? 'text' : item.type\"\n                :append-inner-icon=\"item.visible ? 'mdi-eye-off' : 'mdi-eye'\"\n                @click:append-inner=\"item.visible = !item.visible\"\n                variant=\"solo\"\n              >\n              </v-text-field>\n            </div>\n          </div>\n  \n          <v-btn\n            type=\"submit\"\n            @click=\"signupRequest\"\n            block\n            :loading=\"loader\"\n            color=\"deep-orange\"\n            class=\"mt-2 text-capitalize\"\n            >Signup</v-btn\n          >\n        </v-form>\n        <router-link :to=\"'login'\" class=\"text-decoration-none primary-color\">\n          <div class=\"mt-3 mb-4 txt14 text-right\">Back to Login</div>\n        </router-link>\n      </v-sheet>\n      <div class=\"text-center\">\n      <v-btn\n            v-if=\"!$vuetify.display.lg\"\n            @click=\"$router.push({path: '/'})\"\n            variant=\"outlined\"\n            color=\"deep-orange\"\n            class=\"mt-8 text-capitalize custom-360\"\n            >Go to Home</v-btn\n          >\n          </div>\n      </div>\n      <div class=\"text-white custom-main-title\">\n        <h1 class=\"font-avenir txt60\">\n          Password\n          <span class=\"text-deep-orange font-avenir txt60\"> Manager </span>\n        </h1>\n        <div class=\"txt16 custom-width-title mt-5\">\n          A password manager is a technology that helps internet users create,\n          save, manage and use passwords across different online services. Many\n          online services require a username and password to create an account and\n          gain access to a specific service.\n        </div>\n        <br>\n        <div class=\"txt16 custom-width-title\">\n          Lets create an account in our system to register yourself.\n        </div>\n        <v-btn\n            @click=\"$router.push({path: '/'})\"\n            block\n            variant=\"outlined\"\n            color=\"deep-orange\"\n            class=\"mt-5 text-capitalize\"\n            >Go to Home</v-btn\n          >\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { ref } from \"vue\"\n  import rules from \"../constants/validation-rules.js\"\n\n  import { useRoute } from \"vue-router\"\n  import { useRouter } from \"vue-router\"\n  import useToast from '@/plugins/useToast.js'\n  import axios from \"axios\"\n  export default {\n    setup() {\n      const loader = ref(false)\n      const myForm = ref('')\n      const route = useRoute()\n      const router = useRouter()\n      const inputList = ref([\n        {\n          name: \"firstName\",\n          label: \"First Name\",\n          placeholder: \"Enter your first name here\",\n          type: \"text\",\n          class: \"\",\n          cols: 12,\n          col_md: 12,\n          model: \"\",\n          rules: [rules.firstNameRequired, rules.name_max_length],\n        },\n        {\n          name: \"lastName\",\n          label: \"Last Name\",\n          placeholder: \"Enter your last name here\",\n          type: \"text\",\n          class: \"\",\n          cols: 12,\n          col_md: 12,\n          model: \"\",\n          rules: [rules.lastNameRequired, rules.name_max_length],\n        },\n        {\n          name: \"email\",\n          label: \"Email\",\n          placeholder: \"Enter your email here\",\n          type: \"email\",\n          class: \"\",\n          cols: 12,\n          col_md: 12,\n          model: \"\",\n          rules: [rules.emailRequired, rules.email],\n        },\n        {\n          name: \"password\",\n          label: \"Password\",\n          placeholder: \"Enter your password here\",\n          type: \"password\",\n          class: \"mt-3\",\n          cols: 12,\n          col_md: 12,\n          visible: false,\n          model: \"\",\n          rules: [\n            rules.passwordRequired,\n            rules.password_length,\n            rules.password_max_length,\n          ],\n        },\n        {\n          name: \"confirmPassword\",\n          label: \"Confirm Password\",\n          placeholder: \"Enter confirm password here\",\n          type: \"password\",\n          class: \"mt-3\",\n          cols: 12,\n          col_md: 12,\n          visible: false,\n          model: \"\",\n          rules: [\n            rules.passwordRequired,\n            rules.password_length,\n            rules.password_max_length,\n          ],\n        },\n      ])\n  \n      const signupRequest = () => {\n        // check validations\n        if(!inputList.value[0].model) {\n          useToast(\"First name is required\", \"error\")\n          return\n        }\n        if(!inputList.value[1].model) {\n          useToast(\"Last name is required\", \"error\")\n          return\n        }\n        if(!inputList.value[2].model) {\n          useToast(\"Email is required\", \"error\")\n          return\n        }\n        if(!inputList.value[3].model) {\n          useToast(\"Password is required\", \"error\")\n          return\n        }\n        if(inputList.value[3].model !== inputList.value[4].model) {\n          useToast(\"Password did not match\", \"error\")\n          return\n        }\n        \n        // button loader is ON\n        loader.value = true\n        \n        const payload = {\n          name: inputList.value[0].model + \" \" + inputList.value[1].model,\n          email: inputList.value[2].model,\n          password: inputList.value[3].model\n        }\n        console.log('ready signup payload ==============', payload)\n\n        const appBaseURL = process.env.VUE_APP_URL\n\n        let config = {\n          method: 'post',\n          maxBodyLength: Infinity,\n          url: `${appBaseURL}create_account`,\n          headers: { \n            'Content-Type': 'application/json'\n          },\n          data : payload\n        };\n\n        axios.request(config)\n        .then((res) => {\n          if(res.data.message == 'Account created successfully')\n            {\n              // show success message in snackbar\n              useToast(res.data.message, \"success\")\n              // route to login page\n              router.push({path: \"/login\"});\n            }\n            else {\n              console.log(res);\n              useToast(res.data.message, \"error\");\n            }\n          })\n        .catch((error) => {\n            // show error message\n            useToast(error.messae, \"error\")\n          })\n        .finally(() => {\n            loader.value = false\n          })\n      }\n  \n      return {\n        loader,\n        myForm,\n        route,\n        router,\n        inputList,\n        signupRequest\n      }\n    },\n  \n    methods: {},\n  }\n  </script>\n  \n  <style scoped>\n  :deep .v-field__field:focus-within {\n    background-color: #e0e0e0 !important;\n  }\n  .custom-360 {\n    width: 240px;\n  }\n  </style>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}